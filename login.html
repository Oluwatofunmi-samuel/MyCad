<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login – My Ad</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body class="login-page">
    <div class="login-container">
      <div class="login-box">
        <h2>Login to <span>My Ad</span></h2>
        <p class="login-subtitle">
          Select your role and sign in to your account.
        </p>

        <!-- Role Selector -->
        <div class="role-select">
          <label for="role">Select Role</label>
          <select id="role" required>
            <option value="">-- Choose Role --</option>
            <option value="student">Student</option>
            <option value="staff">Staff</option>
            <option value="admin">Admin</option>
          </select>
        </div>

        <!-- Login Form -->
        <form id="loginForm">
          <input type="email" id="email" placeholder="Email Address" required />
          <input
            type="password"
            id="password"
            placeholder="Password"
            required
          />
          <button class="btn btn-primary" type="submit">Login</button>
        </form>

        <p id="errorMsg" class="alert alert-error" style="display: none">
          Invalid role or credentials
        </p>

        <p class="back-home"><a href="index.html">← Back to Home</a></p>
      </div>
    </div>

    <script>
            // ===== ROLE-BASED LOGIN SIMULATION =====
           document.getElementById("loginForm").addEventListener("submit", function (e) {
        e.preventDefault();

        const role = document.getElementById("role").value;
        const email = document.getElementById("email").value.trim();
        const password = document.getElementById("password").value.trim();
        const errorMsg = document.getElementById("errorMsg");

        if (!role) {
          errorMsg.style.display = "block";
          errorMsg.textContent = "Please select your role.";
          return;
        }

        // Get stored users from localStorage
        const users = JSON.parse(localStorage.getItem('myad_users')) || [];
        const user = users.find(u => u.email === email && u.password === password && u.role === role);

        if (user) {
          errorMsg.style.display = "none";
          alert(Login successful as ${role.toUpperCase()}!);
          window.location.href = ${role}-dashboard.html;
        } else {
          errorMsg.style.display = "block";
          errorMsg.textContent = "Invalid credentials or role.";
        }
      });
    </script>
  </body>
</html>
